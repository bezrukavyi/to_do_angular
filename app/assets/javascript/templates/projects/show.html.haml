%md-content{ flex: '', layout: 'column', 'layout-align': 'center center', 'ng-if': '!projects.currentProject' }
  %h1 Choose project or create new
  %div{ layout: 'row', 'layout-align': 'center' }
    %md-button.md-raised.md-primary{ 'ng-click': 'projects.createProject()' } New Project


%md-content{ flex: '', 'ng-if': 'projects.currentProject' }

  %form.project-form{ layout: 'column', 'layout-align': 'center center', name: 'editProjectForm' }
    %md-input-container.md-block{ 'ng-class': "{ 'read-field': !editProjectForm.edited }" }
      %input.title{ 'aria-label': 'Title', 'md-maxlength': '25', 'md-no-asterisk': '', required: '', name: 'title', 'ng-model': 'projects.currentProject.title' }
      %div.validators{'ng-messages': 'editProjectForm.title.$error'}
        %div{'ng-message': 'required'} This is required.
        %div{'ng-message': 'md-maxlength'} The title must be less than 25 characters long.

    %md-actions.project-actions{ layout: 'row', 'layout-align': 'center' }
      %md-button.md-icon-button.md-ink-ripple.md-24
        %md-icon{'ng-click': 'projects.editProject(editProjectForm)' } edit
      %md-button.md-icon-button.md-button.md-ink-ripple.md-24
        %md-icon{'ng-click': 'projects.deleteProject()' } delete
      %md-button.md-icon-button.md-button.md-ink-ripple.md-24
        %md-icon{'ng-click': 'projects.deleteProject()' } date_range


  .tasks-content{ layout: 'column', 'layout-align': 'center center', 'ng-controller': 'TasksController as tasks' }
    %tasks_create{ ctrl: 'tasks', project: 'projects.currentProject' }

    .todo-list
      %md-card.todo-item-wrap{ 'ng-repeat': 'task in tasks.all | filter:{project_id:projects.currentProject.id}' }
        %tasks_item{ item: 'task', ctrl: 'tasks' }
